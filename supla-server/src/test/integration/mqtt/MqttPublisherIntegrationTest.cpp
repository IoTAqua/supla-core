/*
 Copyright (C) AC SOFTWARE SP. Z O.O.

 This program is free software; you can redistribute it and/or
 modify it under the terms of the GNU General Public License
 as published by the Free Software Foundation; either version 2
 of the License, or (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program; if not, write to the Free Software
 Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
 */

#include "MqttPublisherIntegrationTest.h"
#include "log.h"

namespace testing {

MqttPublisherIntegrationTest::MqttPublisherIntegrationTest()
    : IntegrationTest() {}

MqttPublisherIntegrationTest::~MqttPublisherIntegrationTest() {}

void MqttPublisherIntegrationTest::waitForData(int expectedTopicCount) {
  for (int a = 0; a < 5000; a++) {
    if (libraryAdapter->count() == expectedTopicCount &&
        !dataSource->is_context_open()) {
      return;
    }
    usleep(1000);
  }

  EXPECT_EQ(libraryAdapter->count(), expectedTopicCount);
  EXPECT_TRUE(dataSource->is_context_open());
  ASSERT_TRUE(false);
}

void MqttPublisherIntegrationTest::print(void) {
  printf("const char *expectedData[] = {\n");
  bool first = true;
  while (libraryAdapter->count()) {
    _mqtt_test_message_t m = libraryAdapter->pop();
    if (first) {
      first = false;
    } else {
      printf(", ");
    }
    printf("%s%s%s, %s%s%s\n", m.topic_name ? "\"" : "",
           m.topic_name ? m.topic_name : "NULL", m.topic_name ? "\"" : "",
           m.message ? "\"" : "", m.message ? (char *)m.message : "NULL",
           m.message ? "\"" : "");

    if (m.topic_name) {
      free(m.topic_name);
    }
    if (m.message) {
      free(m.message);
    }
  }
  printf("};\n");
}

void MqttPublisherIntegrationTest::SetUp() {
  initTestDatabase();
  runSqlScript("DataForMqttTests.sql");

  iniSettings = new supla_mqtt_client_ini_settings();
  libraryAdapter = new MqttClientLibraryAdapterMock(iniSettings);
  dataSource = new supla_mqtt_publisher_datasource(iniSettings);

  publisher = new supla_mqtt_publisher(libraryAdapter, iniSettings, dataSource);
  publisher->start();
}

void MqttPublisherIntegrationTest::TearDown() {
  publisher->stop();
  delete publisher;
  delete dataSource;
  delete iniSettings;
  delete libraryAdapter;
}

void MqttPublisherIntegrationTest::waitForConnection() {
  for (int a = 0; a < 5000; a++) {
    if (libraryAdapter->is_connected()) {
      return;
    }
    usleep(1000);
  }

  ASSERT_TRUE(false);
}

void MqttPublisherIntegrationTest::verify(const char *expectedData[],
                                          int count) {
  ASSERT_EQ(count / 2, libraryAdapter->count());

  int n = 0;
  bool ok = true;
  while (libraryAdapter->count() && ok) {
    _mqtt_test_message_t m = libraryAdapter->pop();

    if ((m.topic_name != NULL && expectedData[n] == NULL) ||
        (m.topic_name == NULL && expectedData[n] != NULL) ||
        (m.topic_name != NULL && strcmp(m.topic_name, expectedData[n]) != 0)) {
      supla_log(LOG_DEBUG, "TOPIC n==%i|%s|%s", n,
                m.topic_name ? m.topic_name : "NULL",
                expectedData[n] ? expectedData[n] : "NULL");
      EXPECT_TRUE(false);
      ok = false;
    }

    size_t edlen = expectedData[n + 1] ? strlen(expectedData[n + 1]) : 0;

    if (ok &&
        ((m.message != NULL && expectedData[n + 1] == NULL) ||
         (m.message == NULL && expectedData[n + 1] != NULL) ||
         (m.message_size != edlen) ||
         (m.message_size > 0 && strcmp(m.message, expectedData[n + 1]) != 0))) {
      supla_log(LOG_DEBUG, "MESSAGE n==%i|%s|%s", n,
                m.message ? m.message : "NULL",
                expectedData[n + 1] ? expectedData[n + 1] : "NULL");
      EXPECT_TRUE(false);
      ok = false;
    }

    n += 2;
    if (m.topic_name) {
      free(m.topic_name);
    }
    if (m.message) {
      free(m.message);
    }
  }
}

TEST_F(MqttPublisherIntegrationTest, fullScope) {
  waitForConnection();
  waitForData(548);
  // print();

  const char *expectedData[] = {
      "supla/48test@supla.org/account/timezone",
      "Europe/Rome",
      "supla/48test@supla.org/account/shortuniqueid",
      "8ce92cb8c9f6db6b65703d2703691700",
      "supla/53test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/53test@supla.org/account/shortuniqueid",
      "61b2f9bdb22d3bd6336bb235bcb1b77e",
      "supla/117test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/117test@supla.org/account/shortuniqueid",
      "5b15b00055c044220196eb41965b3627",
      "supla/121test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/121test@supla.org/account/shortuniqueid",
      "45004b208185b207175522c7471f8526",
      "supla/171test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/171test@supla.org/account/shortuniqueid",
      "0c6beb47b1c2b14191e2bbb49e9d41c2",
      "supla/239test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/239test@supla.org/account/shortuniqueid",
      "4d3e49b9f3b202b1092fbfdc48d8d04f",
      "supla/390test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/390test@supla.org/account/shortuniqueid",
      "de1257b7824b6825c276b763db1b711f",
      "supla/431test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/431test@supla.org/account/shortuniqueid",
      "b72dfbdb402908e6939d7257dfed2367",
      "supla/632test@supla.org/account/timezone",
      "Europe/Paris",
      "supla/632test@supla.org/account/shortuniqueid",
      "3281677315ff159f91471b34828f603b",
      "supla/676test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/676test@supla.org/account/shortuniqueid",
      "46948d474db1b5e3cccf2c89281414c2",
      "supla/743test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/743test@supla.org/account/shortuniqueid",
      "0df527b1786040fe57d6d9f43b632fbb",
      "supla/1009test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/1009test@supla.org/account/shortuniqueid",
      "c2e6c948d570bfb4e8b7152d890937db",
      "supla/1017test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/1017test@supla.org/account/shortuniqueid",
      "8588fb099c7f6f32d0b5dc43cbc3318b",
      "supla/1238test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/1238test@supla.org/account/shortuniqueid",
      "7450214b8189dc129301c2c922cdcfd0",
      "supla/1347test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/1347test@supla.org/account/shortuniqueid",
      "bd6287c398bc81403c643410f5043d4e",
      "supla/1414test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/1414test@supla.org/account/shortuniqueid",
      "689eb3922683b4e4e7b9227f32f2d89b",
      "supla/1495test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/1495test@supla.org/account/shortuniqueid",
      "113fb17f5b300bfbbfb667eb6d4d1ef8",
      "supla/1645test@supla.org/account/timezone",
      "Europe/Budapest",
      "supla/1645test@supla.org/account/shortuniqueid",
      "1d43b8d35e31f1508c70b9b77e03e293",
      "supla/1792test@supla.org/account/timezone",
      "Europe/Prague",
      "supla/1792test@supla.org/account/shortuniqueid",
      "b9802383dd06c57d0c41de6805957d0f",
      "supla/1802test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/1802test@supla.org/account/shortuniqueid",
      "64d3d5bd59eb5fe2b67bf4fe4d222905",
      "supla/1840test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/1840test@supla.org/account/shortuniqueid",
      "93158d9b795bb1c65e79199d42381706",
      "supla/1899test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/1899test@supla.org/account/shortuniqueid",
      "4b2bb30d2db31cf5809ede445862f6d7",
      "supla/2288test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/2288test@supla.org/account/shortuniqueid",
      "879b9d8688bc4b7108801c5c6bff4b3b",
      "supla/2337test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/2337test@supla.org/account/shortuniqueid",
      "ee2611c4632f53261cf3fb8d9d2f182d",
      "supla/2487test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/2487test@supla.org/account/shortuniqueid",
      "7e2182788b9214ee5b66349d5b7668cf",
      "supla/2645test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/2645test@supla.org/account/shortuniqueid",
      "6527881802ebd8c4ff2b3955bc326704",
      "supla/3411test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/3411test@supla.org/account/shortuniqueid",
      "15cb17b568de00e1ddc3005e4674bbde",
      "supla/3741test@supla.org/account/timezone",
      "Europe/Warsaw",
      "supla/3741test@supla.org/account/shortuniqueid",
      "c8e5fd3b528033b98e09e0d1582d1031",
      "supla/48test@supla.org/devices/12/enabled",
      "true",
      "supla/48test@supla.org/devices/12/last_connected",
      "2019-09-13T13:42:00Z",
      "supla/48test@supla.org/devices/12/last_ipv4",
      "62.196.143.138",
      "supla/48test@supla.org/devices/12/manufacturer",
      "Zamel",
      "supla/48test@supla.org/devices/12/name",
      "ZAMEL SRW-01",
      "supla/48test@supla.org/devices/12/proto_ver",
      "7",
      "supla/48test@supla.org/devices/12/soft_ver",
      "2.7.2",
      "supla/53test@supla.org/devices/14/enabled",
      "true",
      "supla/53test@supla.org/devices/14/last_connected",
      "2020-11-16T13:25:47Z",
      "supla/53test@supla.org/devices/14/last_ipv4",
      "91.192.145.44",
      "supla/53test@supla.org/devices/14/manufacturer",
      "Itead",
      "supla/53test@supla.org/devices/14/name",
      "SONOFF-DS18B20",
      "supla/53test@supla.org/devices/14/proto_ver",
      "7",
      "supla/53test@supla.org/devices/14/soft_ver",
      "2.5.3",
      "supla/117test@supla.org/devices/36/enabled",
      "true",
      "supla/117test@supla.org/devices/36/last_connected",
      "2020-11-13T18:04:10Z",
      "supla/117test@supla.org/devices/36/last_ipv4",
      "178.43.12.82",
      "supla/117test@supla.org/devices/36/manufacturer",
      "Zamel",
      "supla/117test@supla.org/devices/36/name",
      "ZAMEL ROW-02",
      "supla/117test@supla.org/devices/36/proto_ver",
      "9",
      "supla/117test@supla.org/devices/36/soft_ver",
      "2.7.0",
      "supla/121test@supla.org/devices/40/enabled",
      "true",
      "supla/121test@supla.org/devices/40/last_connected",
      "2019-09-17T16:33:44Z",
      "supla/121test@supla.org/devices/40/last_ipv4",
      "5.173.144.227",
      "supla/121test@supla.org/devices/40/manufacturer",
      "Itead",
      "supla/121test@supla.org/devices/40/name",
      "SONOFF-TH16",
      "supla/121test@supla.org/devices/40/proto_ver",
      "7",
      "supla/121test@supla.org/devices/40/soft_ver",
      "2.5.3",
      "supla/171test@supla.org/devices/157/enabled",
      "true",
      "supla/171test@supla.org/devices/157/last_connected",
      "2020-11-16T15:03:18Z",
      "supla/171test@supla.org/devices/157/last_ipv4",
      "77.112.78.126",
      "supla/171test@supla.org/devices/157/manufacturer",
      "Zamel",
      "supla/171test@supla.org/devices/157/name",
      "ZAMEL SBW-01",
      "supla/171test@supla.org/devices/157/proto_ver",
      "9",
      "supla/171test@supla.org/devices/157/soft_ver",
      "2.7.0",
      "supla/390test@supla.org/devices/205/enabled",
      "true",
      "supla/390test@supla.org/devices/205/last_connected",
      "2020-11-13T07:18:34Z",
      "supla/390test@supla.org/devices/205/last_ipv4",
      "83.22.38.123",
      "supla/390test@supla.org/devices/205/manufacturer",
      NULL,
      "supla/390test@supla.org/devices/205/name",
      "SUPLA-GATE-MODULE",
      "supla/390test@supla.org/devices/205/proto_ver",
      "7",
      "supla/390test@supla.org/devices/205/soft_ver",
      "2.5.5",
      "supla/676test@supla.org/devices/411/enabled",
      "true",
      "supla/676test@supla.org/devices/411/last_connected",
      "2020-11-14T03:45:14Z",
      "supla/676test@supla.org/devices/411/last_ipv4",
      "185.153.35.49",
      "supla/676test@supla.org/devices/411/manufacturer",
      "Zamel",
      "supla/676test@supla.org/devices/411/name",
      "ZAMEL SLW-02",
      "supla/676test@supla.org/devices/411/proto_ver",
      "7",
      "supla/676test@supla.org/devices/411/soft_ver",
      "2.7.2",
      "supla/743test@supla.org/devices/506/enabled",
      "true",
      "supla/743test@supla.org/devices/506/last_connected",
      "2020-11-14T20:51:01Z",
      "supla/743test@supla.org/devices/506/last_ipv4",
      "79.162.2.218",
      "supla/743test@supla.org/devices/506/manufacturer",
      "Zamel",
      "supla/743test@supla.org/devices/506/name",
      "ZAMEL MEW-01",
      "supla/743test@supla.org/devices/506/proto_ver",
      "10",
      "supla/743test@supla.org/devices/506/soft_ver",
      "2.7.8",
      "supla/632test@supla.org/devices/563/enabled",
      "true",
      "supla/632test@supla.org/devices/563/last_connected",
      "2020-11-10T00:28:29Z",
      "supla/632test@supla.org/devices/563/last_ipv4",
      "178.19.179.238",
      "supla/632test@supla.org/devices/563/manufacturer",
      "Zamel",
      "supla/632test@supla.org/devices/563/name",
      "ZAMEL SBW-01",
      "supla/632test@supla.org/devices/563/proto_ver",
      "9",
      "supla/632test@supla.org/devices/563/soft_ver",
      "2.7.0",
      "supla/239test@supla.org/devices/983/enabled",
      "true",
      "supla/239test@supla.org/devices/983/last_connected",
      "2020-11-14T17:14:21Z",
      "supla/239test@supla.org/devices/983/last_ipv4",
      "85.14.75.96",
      "supla/239test@supla.org/devices/983/manufacturer",
      NULL,
      "supla/239test@supla.org/devices/983/name",
      "*Yunshan",
      "supla/239test@supla.org/devices/983/proto_ver",
      "7",
      "supla/239test@supla.org/devices/983/soft_ver",
      "2.7.2",
      "supla/1009test@supla.org/devices/989/enabled",
      "true",
      "supla/1009test@supla.org/devices/989/last_connected",
      "2020-11-15T21:53:54Z",
      "supla/1009test@supla.org/devices/989/last_ipv4",
      "185.204.193.254",
      "supla/1009test@supla.org/devices/989/manufacturer",
      "Zamel",
      "supla/1009test@supla.org/devices/989/name",
      "ZAMEL SLW-01",
      "supla/1009test@supla.org/devices/989/proto_ver",
      "7",
      "supla/1009test@supla.org/devices/989/soft_ver",
      "2.5.5",
      "supla/1495test@supla.org/devices/1068/enabled",
      "true",
      "supla/1495test@supla.org/devices/1068/last_connected",
      "2020-11-16T14:59:31Z",
      "supla/1495test@supla.org/devices/1068/last_ipv4",
      "5.172.236.246",
      "supla/1495test@supla.org/devices/1068/manufacturer",
      NULL,
      "supla/1495test@supla.org/devices/1068/name",
      "SUPLA-GATE-MODULE",
      "supla/1495test@supla.org/devices/1068/proto_ver",
      "7",
      "supla/1495test@supla.org/devices/1068/soft_ver",
      "2.5.5",
      "supla/1645test@supla.org/devices/3195/enabled",
      "true",
      "supla/1645test@supla.org/devices/3195/last_connected",
      "2020-11-14T01:04:57Z",
      "supla/1645test@supla.org/devices/3195/last_ipv4",
      "109.196.34.173",
      "supla/1645test@supla.org/devices/3195/manufacturer",
      "Itead",
      "supla/1645test@supla.org/devices/3195/name",
      "SONOFF-p4-DHT22 by@Zybi",
      "supla/1645test@supla.org/devices/3195/proto_ver",
      "5",
      "supla/1645test@supla.org/devices/3195/soft_ver",
      "2.0",
      "supla/2645test@supla.org/devices/4124/enabled",
      "true",
      "supla/2645test@supla.org/devices/4124/last_connected",
      "2019-11-05T11:41:37Z",
      "supla/2645test@supla.org/devices/4124/last_ipv4",
      "77.252.61.52",
      "supla/2645test@supla.org/devices/4124/manufacturer",
      NULL,
      "supla/2645test@supla.org/devices/4124/name",
      "8xDSv3.1 by@wojtek",
      "supla/2645test@supla.org/devices/4124/proto_ver",
      "9",
      "supla/2645test@supla.org/devices/4124/soft_ver",
      "1.6.1",
      "supla/2288test@supla.org/devices/4567/enabled",
      "false",
      "supla/2288test@supla.org/devices/4567/last_connected",
      "2019-11-05T16:39:33Z",
      "supla/2288test@supla.org/devices/4567/last_ipv4",
      "80.48.183.94",
      "supla/2288test@supla.org/devices/4567/manufacturer",
      NULL,
      "supla/2288test@supla.org/devices/4567/name",
      "Supla-Gate",
      "supla/2288test@supla.org/devices/4567/proto_ver",
      "9",
      "supla/2288test@supla.org/devices/4567/soft_ver",
      "1.6.1",
      "supla/1899test@supla.org/devices/5761/enabled",
      "true",
      "supla/1899test@supla.org/devices/5761/last_connected",
      "2020-09-27T08:31:10Z",
      "supla/1899test@supla.org/devices/5761/last_ipv4",
      "195.248.246.12",
      "supla/1899test@supla.org/devices/5761/manufacturer",
      "Itead",
      "supla/1899test@supla.org/devices/5761/name",
      "SONOFF-gate-p5-DS18B20 by@Zybi",
      "supla/1899test@supla.org/devices/5761/proto_ver",
      "5",
      "supla/1899test@supla.org/devices/5761/soft_ver",
      "2.0",
      "supla/1414test@supla.org/devices/5823/enabled",
      "true",
      "supla/1414test@supla.org/devices/5823/last_connected",
      "2019-10-20T12:04:29Z",
      "supla/1414test@supla.org/devices/5823/last_ipv4",
      "83.6.48.24",
      "supla/1414test@supla.org/devices/5823/manufacturer",
      NULL,
      "supla/1414test@supla.org/devices/5823/name",
      "WEMOS-ROLLER-SHUTTER-UNI by@Zybi",
      "supla/1414test@supla.org/devices/5823/proto_ver",
      "7",
      "supla/1414test@supla.org/devices/5823/soft_ver",
      "2.5.3",
      "supla/3741test@supla.org/devices/6361/enabled",
      "true",
      "supla/3741test@supla.org/devices/6361/last_connected",
      "2020-11-16T06:07:12Z",
      "supla/3741test@supla.org/devices/6361/last_ipv4",
      "185.210.38.89",
      "supla/3741test@supla.org/devices/6361/manufacturer",
      "Itead",
      "supla/3741test@supla.org/devices/6361/name",
      "SONOFF-SV by @slawek",
      "supla/3741test@supla.org/devices/6361/proto_ver",
      "7",
      "supla/3741test@supla.org/devices/6361/soft_ver",
      "2.5.5s",
      "supla/53test@supla.org/devices/6688/enabled",
      "true",
      "supla/53test@supla.org/devices/6688/last_connected",
      "2020-11-15T13:53:01Z",
      "supla/53test@supla.org/devices/6688/last_ipv4",
      "91.192.145.44",
      "supla/53test@supla.org/devices/6688/manufacturer",
      NULL,
      "supla/53test@supla.org/devices/6688/name",
      "Impulse counter RB-03",
      "supla/53test@supla.org/devices/6688/proto_ver",
      "10",
      "supla/53test@supla.org/devices/6688/soft_ver",
      "2.7.9",
      "supla/431test@supla.org/devices/7212/enabled",
      "true",
      "supla/431test@supla.org/devices/7212/last_connected",
      "2020-11-15T12:06:14Z",
      "supla/431test@supla.org/devices/7212/last_ipv4",
      "31.63.6.250",
      "supla/431test@supla.org/devices/7212/manufacturer",
      NULL,
      "supla/431test@supla.org/devices/7212/name",
      "Eco-pea level sensor",
      "supla/431test@supla.org/devices/7212/proto_ver",
      "9",
      "supla/431test@supla.org/devices/7212/soft_ver",
      "1.6.1",
      "supla/1017test@supla.org/devices/7878/enabled",
      "true",
      "supla/1017test@supla.org/devices/7878/last_connected",
      "2020-06-20T10:09:15Z",
      "supla/1017test@supla.org/devices/7878/last_ipv4",
      "185.253.235.175",
      "supla/1017test@supla.org/devices/7878/manufacturer",
      NULL,
      "supla/1017test@supla.org/devices/7878/name",
      "BME280",
      "supla/1017test@supla.org/devices/7878/proto_ver",
      "9",
      "supla/1017test@supla.org/devices/7878/soft_ver",
      "2.0.0",
      "supla/1347test@supla.org/devices/9236/enabled",
      "true",
      "supla/1347test@supla.org/devices/9236/last_connected",
      "2020-11-16T08:27:10Z",
      "supla/1347test@supla.org/devices/9236/last_ipv4",
      "31.0.80.46",
      "supla/1347test@supla.org/devices/9236/manufacturer",
      NULL,
      "supla/1347test@supla.org/devices/9236/name",
      "HOME",
      "supla/1347test@supla.org/devices/9236/proto_ver",
      "9",
      "supla/1347test@supla.org/devices/9236/soft_ver",
      "1.6.1",
      "supla/1840test@supla.org/devices/9344/enabled",
      "true",
      "supla/1840test@supla.org/devices/9344/last_connected",
      "2020-11-16T01:00:36Z",
      "supla/1840test@supla.org/devices/9344/last_ipv4",
      "31.0.69.93",
      "supla/1840test@supla.org/devices/9344/manufacturer",
      "Zamel",
      "supla/1840test@supla.org/devices/9344/name",
      "ZAMEL SBW-02",
      "supla/1840test@supla.org/devices/9344/proto_ver",
      "7",
      "supla/1840test@supla.org/devices/9344/soft_ver",
      "2.7.13",
      "supla/1792test@supla.org/devices/9480/enabled",
      "true",
      "supla/1792test@supla.org/devices/9480/last_connected",
      "2020-11-16T04:27:38Z",
      "supla/1792test@supla.org/devices/9480/last_ipv4",
      "80.251.245.152",
      "supla/1792test@supla.org/devices/9480/manufacturer",
      "Peveko",
      "supla/1792test@supla.org/devices/9480/name",
      "SMART VALVE PEVEKO",
      "supla/1792test@supla.org/devices/9480/proto_ver",
      "11",
      "supla/1792test@supla.org/devices/9480/soft_ver",
      "2.7.18",
      "supla/3411test@supla.org/devices/9665/enabled",
      "true",
      "supla/3411test@supla.org/devices/9665/last_connected",
      "2020-11-16T14:59:02Z",
      "supla/3411test@supla.org/devices/9665/last_ipv4",
      "51.38.129.82",
      "supla/3411test@supla.org/devices/9665/manufacturer",
      NULL,
      "supla/3411test@supla.org/devices/9665/name",
      "Weather",
      "supla/3411test@supla.org/devices/9665/proto_ver",
      "10",
      "supla/3411test@supla.org/devices/9665/soft_ver",
      "1.0.4",
      "supla/1802test@supla.org/devices/9717/enabled",
      "true",
      "supla/1802test@supla.org/devices/9717/last_connected",
      "2020-11-11T12:41:52Z",
      "supla/1802test@supla.org/devices/9717/last_ipv4",
      "188.137.114.68",
      "supla/1802test@supla.org/devices/9717/manufacturer",
      NULL,
      "supla/1802test@supla.org/devices/9717/name",
      "IMPULSE COUNTER",
      "supla/1802test@supla.org/devices/9717/proto_ver",
      "10",
      "supla/1802test@supla.org/devices/9717/soft_ver",
      "2.7.2",
      "supla/1238test@supla.org/devices/9934/enabled",
      "true",
      "supla/1238test@supla.org/devices/9934/last_connected",
      "2020-11-13T07:35:35Z",
      "supla/1238test@supla.org/devices/9934/last_ipv4",
      "78.133.163.203",
      "supla/1238test@supla.org/devices/9934/manufacturer",
      "Heatpol",
      "supla/1238test@supla.org/devices/9934/name",
      "HEATPOL HOME+",
      "supla/1238test@supla.org/devices/9934/proto_ver",
      "11",
      "supla/1238test@supla.org/devices/9934/soft_ver",
      "2.7.25",
      "supla/2487test@supla.org/devices/10190/enabled",
      "true",
      "supla/2487test@supla.org/devices/10190/last_connected",
      "2020-11-11T16:23:05Z",
      "supla/2487test@supla.org/devices/10190/last_ipv4",
      "90.156.9.222",
      "supla/2487test@supla.org/devices/10190/manufacturer",
      NULL,
      "supla/2487test@supla.org/devices/10190/name",
      "SUPLA-Skalar",
      "supla/2487test@supla.org/devices/10190/proto_ver",
      "9",
      "supla/2487test@supla.org/devices/10190/soft_ver",
      "1.6.1",
      "supla/2337test@supla.org/devices/10286/enabled",
      "true",
      "supla/2337test@supla.org/devices/10286/last_connected",
      "2020-11-16T09:31:56Z",
      "supla/2337test@supla.org/devices/10286/last_ipv4",
      "155.133.49.157",
      "supla/2337test@supla.org/devices/10286/manufacturer",
      NULL,
      "supla/2337test@supla.org/devices/10286/name",
      "GATE",
      "supla/2337test@supla.org/devices/10286/proto_ver",
      "12",
      "supla/2337test@supla.org/devices/10286/soft_ver",
      "2.3.2/1.11 @lukfud",
      "supla/48test@supla.org/channels/20/device_id",
      "12",
      "supla/48test@supla.org/channels/20/type",
      "RELAY",
      "supla/48test@supla.org/channels/20/function",
      "CONTROLLINGTHEROLLERSHUTTER",
      "supla/48test@supla.org/channels/20/caption",
      NULL,
      "supla/48test@supla.org/channels/20/hidden",
      "false",
      "supla/48test@supla.org/channels/20/state/connected",
      "false",
      "supla/48test@supla.org/channels/20/state/hi",
      NULL,
      "supla/48test@supla.org/channels/20/state/is_calibrating",
      NULL,
      "supla/48test@supla.org/channels/20/state/shut",
      NULL,
      "supla/53test@supla.org/channels/23/device_id",
      "14",
      "supla/53test@supla.org/channels/23/type",
      "THERMOMETERDS18B20",
      "supla/53test@supla.org/channels/23/function",
      "THERMOMETER",
      "supla/53test@supla.org/channels/23/caption",
      NULL,
      "supla/53test@supla.org/channels/23/hidden",
      "false",
      "supla/53test@supla.org/channels/23/state/connected",
      "false",
      "supla/53test@supla.org/channels/23/state/temperature",
      NULL,
      "supla/117test@supla.org/channels/50/device_id",
      "36",
      "supla/117test@supla.org/channels/50/type",
      "RELAY",
      "supla/117test@supla.org/channels/50/function",
      "LIGHTSWITCH",
      "supla/117test@supla.org/channels/50/caption",
      NULL,
      "supla/117test@supla.org/channels/50/hidden",
      "false",
      "supla/117test@supla.org/channels/50/state/connected",
      "false",
      "supla/117test@supla.org/channels/50/state/on",
      NULL,
      "supla/121test@supla.org/channels/56/device_id",
      "40",
      "supla/121test@supla.org/channels/56/type",
      "RELAY",
      "supla/121test@supla.org/channels/56/function",
      "POWERSWITCH",
      "supla/121test@supla.org/channels/56/caption",
      NULL,
      "supla/121test@supla.org/channels/56/hidden",
      "false",
      "supla/121test@supla.org/channels/56/state/connected",
      "false",
      "supla/121test@supla.org/channels/56/state/on",
      NULL,
      "supla/171test@supla.org/channels/286/device_id",
      "157",
      "supla/171test@supla.org/channels/286/type",
      "RELAY",
      "supla/171test@supla.org/channels/286/function",
      "CONTROLLINGTHEGATE",
      "supla/171test@supla.org/channels/286/caption",
      NULL,
      "supla/171test@supla.org/channels/286/hidden",
      "false",
      "supla/171test@supla.org/channels/286/state/connected",
      "false",
      "supla/171test@supla.org/channels/286/state/hi",
      NULL,
      "supla/171test@supla.org/channels/286/state/partial_hi",
      NULL,
      "supla/390test@supla.org/channels/404/device_id",
      "205",
      "supla/390test@supla.org/channels/404/type",
      "SENSORNO",
      "supla/390test@supla.org/channels/404/function",
      "OPENINGSENSOR_GARAGEDOOR",
      "supla/390test@supla.org/channels/404/caption",
      NULL,
      "supla/390test@supla.org/channels/404/hidden",
      "false",
      "supla/390test@supla.org/channels/404/state/connected",
      "false",
      "supla/390test@supla.org/channels/404/state/hi",
      NULL,
      "supla/676test@supla.org/channels/821/device_id",
      "411",
      "supla/676test@supla.org/channels/821/type",
      "DIMMER",
      "supla/676test@supla.org/channels/821/function",
      "DIMMER",
      "supla/676test@supla.org/channels/821/caption",
      NULL,
      "supla/676test@supla.org/channels/821/hidden",
      "false",
      "supla/676test@supla.org/channels/821/state/connected",
      "false",
      "supla/676test@supla.org/channels/821/state/on",
      NULL,
      "supla/676test@supla.org/channels/821/state/brightness",
      NULL,
      "supla/743test@supla.org/channels/966/device_id",
      "506",
      "supla/743test@supla.org/channels/966/type",
      "ELECTRICITYMETER",
      "supla/743test@supla.org/channels/966/function",
      "ELECTRICITYMETER",
      "supla/743test@supla.org/channels/966/caption",
      NULL,
      "supla/743test@supla.org/channels/966/hidden",
      "false",
      "supla/743test@supla.org/channels/966/state/connected",
      "false",
      "supla/743test@supla.org/channels/966/state/total_cost",
      NULL,
      "supla/743test@supla.org/channels/966/state/total_cost_balanced",
      NULL,
      "supla/743test@supla.org/channels/966/state/price_per_unit",
      NULL,
      "supla/743test@supla.org/channels/966/state/currency",
      NULL,
      "supla/743test@supla.org/channels/966/state/support",
      NULL,
      "supla/743test@supla.org/channels/966/state/"
      "total_forward_active_energy_balanced",
      NULL,
      "supla/743test@supla.org/channels/966/state/"
      "total_reverse_active_energy_balanced",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/1/"
      "total_forward_active_energy",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/1/"
      "total_reverse_active_energy",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/1/"
      "total_forward_reactive_energy",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/1/"
      "total_reverse_reactive_energy",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/1/frequency",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/1/voltage",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/1/current",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/1/power_active",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/1/power_reactive",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/1/power_apparent",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/1/power_factor",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/1/phase_angle",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/2/"
      "total_forward_active_energy",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/2/"
      "total_reverse_active_energy",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/2/"
      "total_forward_reactive_energy",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/2/"
      "total_reverse_reactive_energy",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/2/frequency",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/2/voltage",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/2/current",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/2/power_active",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/2/power_reactive",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/2/power_apparent",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/2/power_factor",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/2/phase_angle",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/3/"
      "total_forward_active_energy",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/3/"
      "total_reverse_active_energy",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/3/"
      "total_forward_reactive_energy",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/3/"
      "total_reverse_reactive_energy",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/3/frequency",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/3/voltage",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/3/current",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/3/power_active",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/3/power_reactive",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/3/power_apparent",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/3/power_factor",
      NULL,
      "supla/743test@supla.org/channels/966/state/phases/3/phase_angle",
      NULL,
      "supla/632test@supla.org/channels/1055/device_id",
      "563",
      "supla/632test@supla.org/channels/1055/type",
      "RELAY",
      "supla/632test@supla.org/channels/1055/function",
      "CONTROLLINGTHEGARAGEDOOR",
      "supla/632test@supla.org/channels/1055/caption",
      NULL,
      "supla/632test@supla.org/channels/1055/hidden",
      "false",
      "supla/632test@supla.org/channels/1055/state/connected",
      "false",
      "supla/632test@supla.org/channels/1055/state/hi",
      NULL,
      "supla/239test@supla.org/channels/1835/device_id",
      "983",
      "supla/239test@supla.org/channels/1835/type",
      "RELAY",
      "supla/239test@supla.org/channels/1835/function",
      "CONTROLLINGTHEDOORLOCK",
      "supla/239test@supla.org/channels/1835/caption",
      NULL,
      "supla/239test@supla.org/channels/1835/hidden",
      "false",
      "supla/239test@supla.org/channels/1835/state/connected",
      "false",
      "supla/239test@supla.org/channels/1835/state/hi",
      NULL,
      "supla/1009test@supla.org/channels/1852/device_id",
      "989",
      "supla/1009test@supla.org/channels/1852/type",
      "RGBLEDCONTROLLER",
      "supla/1009test@supla.org/channels/1852/function",
      "RGBLIGHTING",
      "supla/1009test@supla.org/channels/1852/caption",
      NULL,
      "supla/1009test@supla.org/channels/1852/hidden",
      "false",
      "supla/1009test@supla.org/channels/1852/state/connected",
      "false",
      "supla/1009test@supla.org/channels/1852/state/on",
      NULL,
      "supla/1009test@supla.org/channels/1852/state/color",
      NULL,
      "supla/1009test@supla.org/channels/1852/state/color_brightness",
      NULL,
      "supla/1495test@supla.org/channels/2009/device_id",
      "1068",
      "supla/1495test@supla.org/channels/2009/type",
      "RELAY",
      "supla/1495test@supla.org/channels/2009/function",
      "CONTROLLINGTHEGATEWAYLOCK",
      "supla/1495test@supla.org/channels/2009/caption",
      "Gateway II",
      "supla/1495test@supla.org/channels/2009/hidden",
      "false",
      "supla/1495test@supla.org/channels/2009/state/connected",
      "false",
      "supla/1495test@supla.org/channels/2009/state/hi",
      NULL,
      "supla/1645test@supla.org/channels/3068/device_id",
      "3195",
      "supla/1645test@supla.org/channels/3068/type",
      "DHT22",
      "supla/1645test@supla.org/channels/3068/function",
      "HUMIDITYANDTEMPERATURE",
      "supla/1645test@supla.org/channels/3068/caption",
      NULL,
      "supla/1645test@supla.org/channels/3068/hidden",
      "false",
      "supla/1645test@supla.org/channels/3068/state/connected",
      "false",
      "supla/1645test@supla.org/channels/3068/state/humidity",
      NULL,
      "supla/1645test@supla.org/channels/3068/state/temperature",
      NULL,
      "supla/2645test@supla.org/channels/4688/device_id",
      "4124",
      "supla/2645test@supla.org/channels/4688/type",
      "DIMMERANDRGBLED",
      "supla/2645test@supla.org/channels/4688/function",
      "DIMMERANDRGBLIGHTING",
      "supla/2645test@supla.org/channels/4688/caption",
      NULL,
      "supla/2645test@supla.org/channels/4688/hidden",
      "false",
      "supla/2645test@supla.org/channels/4688/state/connected",
      "false",
      "supla/2645test@supla.org/channels/4688/state/on",
      NULL,
      "supla/2645test@supla.org/channels/4688/state/color",
      NULL,
      "supla/2645test@supla.org/channels/4688/state/color_brightness",
      NULL,
      "supla/2645test@supla.org/channels/4688/state/brightness",
      NULL,
      "supla/2288test@supla.org/channels/5177/device_id",
      "4567",
      "supla/2288test@supla.org/channels/5177/type",
      "SENSORNO",
      "supla/2288test@supla.org/channels/5177/function",
      "OPENINGSENSOR_GATEWAY",
      "supla/2288test@supla.org/channels/5177/caption",
      NULL,
      "supla/2288test@supla.org/channels/5177/hidden",
      "false",
      "supla/2288test@supla.org/channels/5177/state/connected",
      "false",
      "supla/2288test@supla.org/channels/5177/state/hi",
      NULL,
      "supla/1899test@supla.org/channels/7212/device_id",
      "5761",
      "supla/1899test@supla.org/channels/7212/type",
      "SENSORNO",
      "supla/1899test@supla.org/channels/7212/function",
      "MAILSENSOR",
      "supla/1899test@supla.org/channels/7212/caption",
      NULL,
      "supla/1899test@supla.org/channels/7212/hidden",
      "false",
      "supla/1899test@supla.org/channels/7212/state/connected",
      "false",
      "supla/1899test@supla.org/channels/7212/state/hi",
      NULL,
      "supla/1414test@supla.org/channels/7341/device_id",
      "5823",
      "supla/1414test@supla.org/channels/7341/type",
      "SENSORNO",
      "supla/1414test@supla.org/channels/7341/function",
      "OPENINGSENSOR_ROLLERSHUTTER",
      "supla/1414test@supla.org/channels/7341/caption",
      NULL,
      "supla/1414test@supla.org/channels/7341/hidden",
      "false",
      "supla/1414test@supla.org/channels/7341/state/connected",
      "false",
      "supla/1414test@supla.org/channels/7341/state/hi",
      NULL,
      "supla/3741test@supla.org/channels/8453/device_id",
      "6361",
      "supla/3741test@supla.org/channels/8453/type",
      "SENSORNO",
      "supla/3741test@supla.org/channels/8453/function",
      "OPENINGSENSOR_DOOR",
      "supla/3741test@supla.org/channels/8453/caption",
      NULL,
      "supla/3741test@supla.org/channels/8453/hidden",
      "false",
      "supla/3741test@supla.org/channels/8453/state/connected",
      "false",
      "supla/3741test@supla.org/channels/8453/state/hi",
      NULL,
      "supla/53test@supla.org/channels/9202/device_id",
      "6688",
      "supla/53test@supla.org/channels/9202/type",
      "IMPULSECOUNTER",
      "supla/53test@supla.org/channels/9202/function",
      "IC_WATERMETER",
      "supla/53test@supla.org/channels/9202/caption",
      NULL,
      "supla/53test@supla.org/channels/9202/hidden",
      "true",
      "supla/53test@supla.org/channels/9202/state/connected",
      "false",
      "supla/53test@supla.org/channels/9202/state/total_cost",
      NULL,
      "supla/53test@supla.org/channels/9202/state/price_per_unit",
      NULL,
      "supla/53test@supla.org/channels/9202/state/impulses_per_unit",
      NULL,
      "supla/53test@supla.org/channels/9202/state/counter",
      NULL,
      "supla/53test@supla.org/channels/9202/state/calculated_value",
      NULL,
      "supla/53test@supla.org/channels/9202/state/currency",
      NULL,
      "supla/53test@supla.org/channels/9202/state/unit",
      NULL,
      "supla/53test@supla.org/channels/9203/device_id",
      "6688",
      "supla/53test@supla.org/channels/9203/type",
      "IMPULSECOUNTER",
      "supla/53test@supla.org/channels/9203/function",
      "IC_GASMETER",
      "supla/53test@supla.org/channels/9203/caption",
      NULL,
      "supla/53test@supla.org/channels/9203/hidden",
      "false",
      "supla/53test@supla.org/channels/9203/state/connected",
      "false",
      "supla/53test@supla.org/channels/9203/state/total_cost",
      NULL,
      "supla/53test@supla.org/channels/9203/state/price_per_unit",
      NULL,
      "supla/53test@supla.org/channels/9203/state/impulses_per_unit",
      NULL,
      "supla/53test@supla.org/channels/9203/state/counter",
      NULL,
      "supla/53test@supla.org/channels/9203/state/calculated_value",
      NULL,
      "supla/53test@supla.org/channels/9203/state/currency",
      NULL,
      "supla/53test@supla.org/channels/9203/state/unit",
      NULL,
      "supla/431test@supla.org/channels/10259/device_id",
      "7212",
      "supla/431test@supla.org/channels/10259/type",
      "SENSORNC",
      "supla/431test@supla.org/channels/10259/function",
      "DEPTHSENSOR",
      "supla/431test@supla.org/channels/10259/caption",
      NULL,
      "supla/431test@supla.org/channels/10259/hidden",
      "false",
      "supla/431test@supla.org/channels/10259/state/connected",
      "false",
      "supla/431test@supla.org/channels/10259/state/depth",
      NULL,
      "supla/1017test@supla.org/channels/12048/device_id",
      "7878",
      "supla/1017test@supla.org/channels/12048/type",
      "PRESSURESENSOR",
      "supla/1017test@supla.org/channels/12048/function",
      "PRESSURESENSOR",
      "supla/1017test@supla.org/channels/12048/caption",
      NULL,
      "supla/1017test@supla.org/channels/12048/hidden",
      "false",
      "supla/1017test@supla.org/channels/12048/state/connected",
      "false",
      "supla/1017test@supla.org/channels/12048/state/value",
      NULL,
      "supla/1347test@supla.org/channels/15039/device_id",
      "9236",
      "supla/1347test@supla.org/channels/15039/type",
      "SENSORNO",
      "supla/1347test@supla.org/channels/15039/function",
      "NOLIQUIDSENSOR",
      "supla/1347test@supla.org/channels/15039/caption",
      NULL,
      "supla/1347test@supla.org/channels/15039/hidden",
      "false",
      "supla/1347test@supla.org/channels/15039/state/connected",
      "false",
      "supla/1347test@supla.org/channels/15039/state/hi",
      NULL,
      "supla/1840test@supla.org/channels/15283/device_id",
      "9344",
      "supla/1840test@supla.org/channels/15283/type",
      "SENSORNO",
      "supla/1840test@supla.org/channels/15283/function",
      "OPENINGSENSOR_WINDOW",
      "supla/1840test@supla.org/channels/15283/caption",
      NULL,
      "supla/1840test@supla.org/channels/15283/hidden",
      "false",
      "supla/1840test@supla.org/channels/15283/state/connected",
      "false",
      "supla/1840test@supla.org/channels/15283/state/hi",
      NULL,
      "supla/1792test@supla.org/channels/15596/device_id",
      "9480",
      "supla/1792test@supla.org/channels/15596/type",
      "VALVEOPENCLOSE",
      "supla/1792test@supla.org/channels/15596/function",
      "VALVEOPENCLOSE",
      "supla/1792test@supla.org/channels/15596/caption",
      NULL,
      "supla/1792test@supla.org/channels/15596/hidden",
      "false",
      "supla/1792test@supla.org/channels/15596/state/connected",
      "false",
      "supla/1792test@supla.org/channels/15596/state/closed",
      NULL,
      "supla/1792test@supla.org/channels/15596/state/manually_closed",
      NULL,
      "supla/1792test@supla.org/channels/15596/state/flooding",
      NULL,
      "supla/3411test@supla.org/channels/16054/device_id",
      "9665",
      "supla/3411test@supla.org/channels/16054/type",
      "RAINSENSOR",
      "supla/3411test@supla.org/channels/16054/function",
      "RAINSENSOR",
      "supla/3411test@supla.org/channels/16054/caption",
      NULL,
      "supla/3411test@supla.org/channels/16054/hidden",
      "false",
      "supla/3411test@supla.org/channels/16054/state/connected",
      "false",
      "supla/3411test@supla.org/channels/16054/state/value",
      NULL,
      "supla/3411test@supla.org/channels/16055/device_id",
      "9665",
      "supla/3411test@supla.org/channels/16055/type",
      "WINDSENSOR",
      "supla/3411test@supla.org/channels/16055/function",
      "WINDSENSOR",
      "supla/3411test@supla.org/channels/16055/caption",
      NULL,
      "supla/3411test@supla.org/channels/16055/hidden",
      "false",
      "supla/3411test@supla.org/channels/16055/state/connected",
      "false",
      "supla/3411test@supla.org/channels/16055/state/value",
      NULL,
      "supla/1802test@supla.org/channels/16166/device_id",
      "9717",
      "supla/1802test@supla.org/channels/16166/type",
      "IMPULSECOUNTER",
      "supla/1802test@supla.org/channels/16166/function",
      "ELECTRICITYMETER",
      "supla/1802test@supla.org/channels/16166/caption",
      NULL,
      "supla/1802test@supla.org/channels/16166/hidden",
      "false",
      "supla/1802test@supla.org/channels/16166/state/connected",
      "false",
      "supla/1802test@supla.org/channels/16166/state/total_cost",
      NULL,
      "supla/1802test@supla.org/channels/16166/state/price_per_unit",
      NULL,
      "supla/1802test@supla.org/channels/16166/state/impulses_per_unit",
      NULL,
      "supla/1802test@supla.org/channels/16166/state/counter",
      NULL,
      "supla/1802test@supla.org/channels/16166/state/calculated_value",
      NULL,
      "supla/1802test@supla.org/channels/16166/state/currency",
      NULL,
      "supla/1802test@supla.org/channels/16166/state/unit",
      NULL,
      "supla/1238test@supla.org/channels/16708/device_id",
      "9934",
      "supla/1238test@supla.org/channels/16708/type",
      "THERMOSTATHEATPOLHOMEPLUS",
      "supla/1238test@supla.org/channels/16708/function",
      "THERMOSTATHEATPOLHOMEPLUS",
      "supla/1238test@supla.org/channels/16708/caption",
      NULL,
      "supla/1238test@supla.org/channels/16708/hidden",
      "false",
      "supla/1238test@supla.org/channels/16708/state/connected",
      "false",
      "supla/1238test@supla.org/channels/16708/state/on",
      NULL,
      "supla/2487test@supla.org/channels/17748/device_id",
      "10190",
      "supla/2487test@supla.org/channels/17748/type",
      "SENSORNC",
      "supla/2487test@supla.org/channels/17748/function",
      "DISTANCESENSOR",
      "supla/2487test@supla.org/channels/17748/caption",
      NULL,
      "supla/2487test@supla.org/channels/17748/hidden",
      "false",
      "supla/2487test@supla.org/channels/17748/state/connected",
      "false",
      "supla/2487test@supla.org/channels/17748/state/distance",
      NULL,
      "supla/2337test@supla.org/channels/18023/device_id",
      "10286",
      "supla/2337test@supla.org/channels/18023/type",
      "SENSORNO",
      "supla/2337test@supla.org/channels/18023/function",
      "OPENINGSENSOR_GATE",
      "supla/2337test@supla.org/channels/18023/caption",
      NULL,
      "supla/2337test@supla.org/channels/18023/hidden",
      "false",
      "supla/2337test@supla.org/channels/18023/state/connected",
      "false",
      "supla/2337test@supla.org/channels/18023/state/hi",
      NULL};

  verify(expectedData, sizeof(expectedData) / sizeof(void *));
}

} /* namespace testing */
